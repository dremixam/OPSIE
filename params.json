{"name":"Tp OPSIE","tagline":"","body":"OPSIE\r\n======\r\n\r\nCode source du projet OPSIE de Maxime Mélinon et Soufiyan Yacoubi.\r\n\r\nIl est nécéssaire d'avoir installé node.js et git avant toutes choses.\r\n\r\nIl est également nécéssaire d'avoir installé instantclient de Oracle avec le SDK (dans /opt/instantclient dans les exemples ci dessous, à mettre où vous voulez en réalité)\r\n\r\nEnsuite, à l'aide de npm (utilitaire d'installation de paquets node.js), il faut installer bower:\r\n\r\n    npm install -g bower\r\n\r\nPour pouvoir lancer l'application en tâche de fond, il est nécéssaire d'installer le paquet forever (facultatif pour les tests)\r\n\r\n    npm install -g forever\r\n\r\nDéploiement :\r\n\r\nOn récupère le code source\r\n\r\n    git clone git@github.com:dremixam/OPSIE.git\r\n    cd OPSIE\r\n\r\nnpm va devoir compiler le driver oracle, il est nécéssaire pour cela de regler quelques variables d'environnement pour définir l'endroit où se trouve Oracle Instant Client.\r\n\r\n    export OCI_LIB_DIR=/opt/instantclient\r\n    export OCI_INCLUDE_DIR=/opt/instantclient/sdk/include/\r\n    export LD_LIBRARY_PATH=/opt/instantclient\r\n\r\nSi vous êtes sous OSX, il est nécéssaire de définir le répertoire des librairies dynamiques.\r\n\r\n    export DYLD_LIBRARY_PATH=/opt/instantclient\r\n\r\nPour plus d'infos sur la connectivité Oracle avec node.js, voir [documentation du module \"oracle\"](https://www.npmjs.org/package/oracle)\r\n\r\nTout devrait être bon, on installe les dépendances.\r\n\r\n    npm install\r\n    bower install\r\n\r\nEnsuite, créer un fichier de configuration `config.js` avec le contenu suivant :\r\n\r\n    module.exports = {\r\n      // Port d'écoute de l'application\r\n      port : 8099,\r\n      // Titre de l'application\r\n      title : 'OPSIE',\r\n      // Mode debug\r\n      devel : true,\r\n      // Emplacement des fichiers de logs\r\n      logfile : 'logs/access.log',\r\n      // Interface d'écoute (mettre 127.0.0.1 pour que l'application ne soit disponible que localement, 0.0.0.0 sinon dans la plupart des cas)\r\n      ip: '0.0.0.0',\r\n      // Secret utilisé pour le chiffrement des sessions\r\n      secret: 'monsecret',\r\n      // Nom du cookie de session\r\n      sessIdName : 'sessID',\r\n      // Informations de la BDD Oracle (database correspond au SID)\r\n      db : {\r\n        hostname: 'localhost',\r\n        port: 1521,\r\n        user: 'user',\r\n        password: 'password',\r\n        database: 'sid'\r\n      }\r\n    }\r\n\r\n\r\nlancement :\r\n\r\n    node server.js\r\n\r\nSous OSX il est nécéssaire d'ajouter le répertoire `instantclient` au PATH les librairies dynamiques\r\n\r\n    DYLD_LIBRARY_PATH=\"$DYLD_LIBRARY_PATH:/opt/instantclient/\" node server.js\r\n\r\nlancement en tâche de fond :\r\n\r\n    forever start server.js\r\n\r\nMême chose pour OSX\r\n\r\n    DYLD_LIBRARY_PATH=\"$DYLD_LIBRARY_PATH:/opt/instantclient/\" forever start server.js\r\n\r\nL'application est ensuite accessible à l'adresse [http://localhost:8099/] (avec la configuration par défaut).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}